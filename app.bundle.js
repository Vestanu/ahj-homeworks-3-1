!function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(s,n,function(i){return t[i]}.bind(null,n));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=3)}([function(t,i){t.exports='<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1"> <title>Game</title> </head> <body> <p>Баллов: <span id=points></span></p><p> </p><div class=board> </div> </body> </html>'},function(t,i,e){},function(t,i,e){t.exports=e.p+"goblin.png"},function(t,i,e){"use strict";e.r(i);e(0),e(1),e(2);const s=new class{constructor(t){this.boardSize=t**2,this.board=document.getElementsByClassName("board").item(0),this.fields=void 0}draw(){let t="";for(let i=1;i<=this.boardSize;i+=1)t+='<div class="field"></div>';this.board.innerHTML=t,this.fields=this.board.getElementsByClassName("field")}}(4),n=new class{constructor(t){this.board=t,this.missedLimit=5,this.points=0,this.viewPoint=document.getElementById("points"),this.interval=0,this.position=0,this.lastPosition=0,this.board.draw(),this.gameStarted=!1,this.click=!0}init(){for(let t=0;t<this.board.fields.length;t+=1)this.board.fields.item(t).addEventListener("click",t=>{this.gameStarted&&(t.target.closest(".goblin")?(this.points+=1,this.viewPoint.textContent=this.points):this.missedLimit-=1,this.missedLimit<1&&this.stop(),this.click=!0)})}getPosition(){this.lastPosition=this.position;do{this.position=Math.floor(Math.random()*this.board.boardSize)}while(this.position===this.lastPosition)}start(){this.click=!0,this.interval=setInterval(()=>{this.getPosition(),this.board.fields.item(this.lastPosition).innerHTML="",!this.click&&(this.missedLimit-=1,this.missedLimit<1)?this.stop():(this.board.fields.item(this.position).innerHTML='<img class="goblin" src="goblin.png">',this.click=!1)},1e3),this.gameStarted=!0}stop(){clearInterval(this.interval),this.gameStarted=!1,alert("Вы проиграли!")}}(s);n.init(),n.start()}]);
